<ion-header class="ion-no-border">
    <ion-toolbar class="estilo">
        <ion-buttons slot="start">
            <ion-back-button
                default-href="#"
                class="text-cyan-50"
            ></ion-back-button>
            <h2 class="font-bold text-cyan-50">Alta de dueño / supervisor</h2>
        </ion-buttons>
    </ion-toolbar>
</ion-header>

<!-- <ion-content [fullscreen]="true" class="custom-background" style="width: 100%">
    <div class="mt-2 flex flex-col p-4 gap-2 justify-center items-center">
        <label
            for="nombre"
            >Nombre</label
        >
        <input
            class="h-8"
            type="text"
            id="nombre"
            name="nombre"
            style="width: 70%; border-radius: 5px"
        />
    </div>
    <div class="flex flex-col p-4 gap-2 items-center">
        <label
            style="
                font-family: Georgia, 'Times New Roman', Times, serif;
                color: white;
            "
            for="nombre"
            >Apellido</label
        >
        <input
            class="h-8"
            type="text"
            id="nombre"
            name="nombre"
            style="width: 70%; border-radius: 5px"
        />
    </div>
    <div class="flex flex-col p-4 gap-2 items-center">
        <label
            style="
                font-family: Georgia, 'Times New Roman', Times, serif;
                color: white;
            "
            for="nombre"
            >DNI</label
        >
        <input
            class="h-8"
            type="text"
            id="nombre"
            name="nombre"
            style="width: 70%; border-radius: 5px"
        />
    </div>
    <div class="flex flex-col p-4 gap-2 items-center">
        <label
            style="
                font-family: Georgia, 'Times New Roman', Times, serif;
                color: white;
            "
            for="nombre"
            >Cuil</label
        >
        <input
            class="h-8"
            type="text"
            id="nombre"
            name="nombre"
            style="width: 70%; border-radius: 5px"
        />
    </div>
    <div class="flex flex-col p-4 gap-2 items-center">
        <label
            style="
                font-family: Georgia, 'Times New Roman', Times, serif;
                color: white;
            "
            for="nombre"
            >Perfil</label
        >
        <input
            class="h-8"
            type="text"
            id="nombre"
            name="nombre"
            style="width: 70%; border-radius: 5px"
        />
    </div>
    <div class="flex flex-row pt-4 justify-center items-center">
        <button
            (click)="tomarFoto()"
            class="custom-button"
            style="background-color: #0c2b93"
        >
            Tomar foto
        </button>
    </div>
    <div class="flex flex-row pt-4 justify-center items-center">
        <button (click)="tomarFoto()" class="custom-button bg-gray-800">
            Guardar
        </button>
    </div>
</ion-content> -->

<ion-content class="custom" [fullscreen]="true">
    <div class="min-h-screen p-4">
        <ion-fab class="mt-16" slot="fixed" horizontal="end" vertical="top">
            <ion-fab-button (click)="onScanClick()">
                <img class="w-9" src="/assets/scanner.svg" alt="" />
            </ion-fab-button>
        </ion-fab>
        <div class="flex items-center justify-center">
            <div
                class="w-fit flex items-center justify-center mb-2 bg-slate-400 p-1 image"
                (click)="onTakePhotoClick()"
            >
                <img class="w-32 h-32 image" [src]="this.userImage" alt="" />
                <img
                    class="w-9 -translate-x-24 translate-y-10 -m-5"
                    src="/assets/addPhoto.svg"
                    alt=""
                />
            </div>
        </div>
        <form [formGroup]="credentials" class="space-y-6 text-xl">
            <!-- Apellidos -->
            <div class="relative">
                <ion-input
                    fill="solid"
                    placeholder="Apellidos"
                    formControlName="apellidos"
                    class=" custom w-full"
                ></ion-input>
                @if(apellidos && apellidos.touched && apellidos.errors) {
                <ion-note
                    slot="error"
                    color="danger"
                    class="absolute -bottom-6 text-red-500 text-lg"
                    >Campo requerido</ion-note
                >
                }
            </div>

            <!-- Nombres -->
            <div class="relative">
                <ion-input
                    fill="solid"
                    placeholder="Nombres"
                    formControlName="nombres"
                    class=" custom w-full"
                ></ion-input>
                @if(nombres && nombres.touched && nombres.errors) {
                <ion-note
                    slot="error"
                    color="danger"
                    class="absolute -bottom-6 text-red-500 text-lg"
                    >Campo requerido</ion-note
                >
                }
            </div>

            <!-- DNI -->
            <div class="relative">
                <ion-input
                    fill="solid"
                    placeholder="DNI"
                    formControlName="dni"
                    type="number"
                    class=" custom w-full"
                ></ion-input>
                @if(dni && dni.touched && dni.errors) {
                <ion-note
                    slot="error"
                    color="danger"
                    class="absolute -bottom-6 text-red-500 text-lg"
                    >Longitud de 8 digitos</ion-note
                >
                }
            </div>

            <!-- Correo -->
            <div class="relative">
                <ion-input
                    fill="solid"
                    placeholder="Correo"
                    formControlName="correo"
                    class=" custom w-full text-xl"
                ></ion-input>
                @if(correo && correo.touched && correo.errors) {
                <ion-note
                    slot="error"
                    color="danger"
                    class="absolute -bottom-6 text-red-500 text-lg"
                    >Correo no válido</ion-note
                >
                }
            </div>

            <!-- Clave -->
            <div class="relative">
                <ion-input
                    fill="solid"
                    placeholder="Contraseña"
                    type="password"
                    formControlName="clave1"
                    class=" custom w-full"
                >
                    <ion-input-password-toggle
                        slot="end"
                    ></ion-input-password-toggle>
                </ion-input>
                @if(clave1 && clave1.touched && clave1.errors) {
                <ion-note
                    slot="error"
                    color="danger"
                    class="absolute -bottom-6 text-red-500 text-lg"
                    >Campo requerido</ion-note
                >
                }
            </div>

            <!-- Repetir Clave -->
            <div class="relative">
                <ion-input
                    fill="solid"
                    placeholder="Repetir Contraseña"
                    type="password"
                    formControlName="clave2"
                    class=" custom w-full"
                >
                    <ion-input-password-toggle
                        slot="end"
                    ></ion-input-password-toggle>
                </ion-input>
                @if(clave2 && clave2.touched && clave2.errors) {
                <ion-note
                    slot="error"
                    color="danger"
                    class="absolute -bottom-6 text-red-500 text-lg"
                    >Las contraseñas no coinciden</ion-note
                >
                }
            </div>

            <!-- Botón de Registro -->
            <div class="text-center">
                <ion-button
                    [disabled]="!credentials.valid"
                    expand="block"
                    class="bg-blue-600 text-white rounded-lg py-3 w-full text-2xl"
                    (click)="addUser()"
                    >Añadir</ion-button
                >
            </div>
        </form>
    </div>
</ion-content>
